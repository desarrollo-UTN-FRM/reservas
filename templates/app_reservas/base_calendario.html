{% extends 'app_reservas/base.html' %}
{% load static %}

{% block static_css %}
    <link rel='stylesheet' href='{% static 'fullcalendar/dist/fullcalendar.min.css' %}' />
    <link rel='stylesheet' href='{% static 'fullcalendar-scheduler/dist/scheduler.min.css' %}' />
    <link rel="stylesheet" href='{% static 'bootstrap-datepicker/dist/css/bootstrap-datepicker.min.css' %}' />
{% endblock static_css %}


{% block static_js_body %}
    <script src='{% static 'moment/min/moment.min.js' %}'></script>
    <script src='{% static 'fullcalendar/dist/fullcalendar.min.js' %}'></script>
    <script src='{% static 'fullcalendar/dist/lang/es.js' %}'></script>
    <script src='{% static 'fullcalendar-scheduler/dist/scheduler.min.js' %}'></script>
    <script src='{% static 'bootstrap-datepicker/dist/js/bootstrap-datepicker.min.js' %}'></script>
    <script src='{% static 'bootstrap-datepicker/dist/locales/bootstrap-datepicker.es.min.js' %}'></script>
{% endblock static_js_body %}


{% block scripts %}
    <script>
        $(document).ready(function() {
            $('#calendar').fullCalendar({
                {% block fullcalendar_defaultView %}
                    defaultView: 'timelineDay',
                {% endblock %}
                schedulerLicenseKey: 'GPL-My-Project-Is-Open-Source',
                lang: 'es',
                contentHeight: 'auto',
                minTime: '07:00:00',
                {% block fullcalendar_resources %}{% endblock %}
                eventSources: [
                    {% block fullcalendar_eventSources %}{% endblock %}
                ],
                customButtons: {
                    datepickerButton: {
                        text: 'Calendario',
                    }
                },
                header: {
                    left: 'prev,next today datepickerButton',
                    center: 'title',
                    right: '',
                }
                {% block fullcalendar_opciones %}{% endblock %}
            });
        });
    </script>

    <script>
    $(document).ready(function() {
        $('.fc-datepickerButton-button').datepicker({
            format: 'dd/mm/yyyy',
            language: 'es',
            daysOfWeekDisabled: '0',
            autoclose: true,
            todayHighlight: true
        })
            .on('changeDate', function(e) {
                $('#calendar').fullCalendar('gotoDate', e.date);
            });
        });
    </script>
{% endblock scripts %}
